<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datos de Jugadores</title>
    <style>
        .text-success {
            color: green;
        }
        .text-danger {
            color: red;
        }
    </style>
</head>
<body>
    <h1>Lista de Jugadores</h1>
    <table border="1">
        <thead>
            <tr>
                <th>Posición</th>
                <th>Jugador</th>
                <th>Game Name</th>
                <th>Elo</th>
                <th>Wins</th>
                <th>Losses</th>
                <th>Win Rate</th>
            </tr>
        </thead>
        <tbody>
            {% for jugador in datos_jugadores %}
                {% set win_rate = (jugador.wins / (jugador.wins + jugador.losses) * 100) if (jugador.wins + jugador.losses) > 0 else 0 %}
                <tr>
                    <td>{{ loop.index }}</td> <!-- Posición -->
                    <td>{{ jugador.jugador }}</td>
                    <td>{{ jugador.game_name }}</td>
                    <td>
                        <img src="{{ imagenesElo[jugador.tier] }}" alt="{{ jugador.tier }}" style="width: 40px; height: 40px;">
                        {{ jugador.tier }} {{ jugador.rank }} ({{ jugador.league_points }} LPs)
                    </td>
                    <td>{{ jugador.wins }}</td>
                    <td>{{ jugador.losses }}</td>
                    <td class="{% if win_rate >= 50 %}text-success{% else %}text-danger{% endif %}">
                        {{ win_rate | round(2) }}%
                    </td> <!-- Win Rate con clase dinámica -->
                </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
